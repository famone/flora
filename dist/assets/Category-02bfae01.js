import{d as h,r as L,l as S,o as s,v as _,w,a as c,m as k,g as x,t as p,_ as $,y as g,H as T,z as y,c as a,F as d,p as v,n as V,s as B,I as z,e as b,P as A,u as D,A as F,f as N}from"./index-2a6f3e05.js";import{P,T as j}from"./TitleSkeleton-988440d9.js";const H={class:"col-span-1"},M={class:"rounded overflow-hidden relative"},q={class:"h-[16rem] object-cover w-full"},I={class:"col-span-3 py-2 h-full"},O={class:"text-xl font-bold mb-2 flex items-center gap-2"},E={class:"text-xs text-gray-400"},U=["innerHTML"],W=h({__name:"SubcatCard",props:{sub:{}},setup(u){return(t,r)=>{const n=L("router-link"),e=S("lazy");return s(),_(n,{to:t.sub.slug,class:"grid grid-cols-4 gap-6 py-4 first:pt-0"},{default:w(()=>[c("div",H,[c("div",M,[k(c("img",q,null,512),[[e,t.sub.img]])])]),c("div",I,[c("h4",O,[x(p(t.sub.name)+" ",1),c("span",E,p(t.sub.count)+" позиций",1)]),c("p",{class:"descr font-semibold text-gray-500",innerHTML:t.sub.description},null,8,U)])]),_:1},8,["to"])}}});const G=$(W,[["__scopeId","data-v-4641268b"]]),J={class:"flex items-center flex-wrap gap-2 mb-6"},K=["onClick"],Q="h-8 w-8 bg-gray-200 rounded-md justify-center items-center flex font-semibold text-md cursor-pointer",R=h({__name:"LettersFilter",props:{items:{type:Object,required:!0},selectedLetter:{type:String,default:""}},emits:["changeLetter"],setup(u,{emit:t}){const r=t,n=u,e=g([]),i=T(()=>(e.value=n.items.map(o=>o.name[0]),Array.from(new Set(e.value))));y(()=>n.items,()=>{r("changeLetter","")});const l=o=>{o===n.selectedLetter?r("changeLetter",""):r("changeLetter",o)};return(o,m)=>(s(),a("div",J,[(s(!0),a(d,null,v(i.value,(f,C)=>(s(),a("div",{key:C,class:V([Q,{"text-white bg-primary":f===n.selectedLetter}]),onClick:re=>l(f)},p(f),11,K))),128))]))}}),X={class:"col-span-4 text-3xl font-bold mb-6"},Y={class:"divide-y"},Z=h({__name:"CategoryView",props:{title:{},items:{}},setup(u){const t=g(""),r=e=>{t.value=e};function n(e){return!!(t.value===""||e.startsWith(t.value))}return(e,i)=>(s(),a(d,null,[c("h2",X,p(e.title),1),e.items?(s(),_(R,{key:0,items:e.items,"selected-letter":t.value,onChangeLetter:r},null,8,["items","selected-letter"])):B("",!0),c("div",Y,[(s(!0),a(d,null,v(e.items,(l,o)=>k((s(),_(G,{key:o,sub:l},null,8,["sub"])),[[z,n(l.name)]])),128))])],64))}}),ee={key:0,class:"col-span-4 text-3xl font-bold mb-6"},te={key:2,class:"grid grid-cols-4 gap-6"},se={key:3,class:"grid grid-cols-4 gap-6"},ne=h({__name:"SubcategoryView",props:{title:{},items:{}},setup(u){return(t,r)=>{var n;return s(),a(d,null,[t.title!==""?(s(),a("h2",ee,p(t.title),1)):(s(),_(j,{key:1,class:"mb-6"})),(n=t.items)!=null&&n.length?(s(),a("div",te,[(s(!0),a(d,null,v(t.items,(e,i)=>(s(),a("div",{key:i,class:"col-span-1"},[b(A,{item:e},null,8,["item"])]))),128))])):(s(),a("div",se,[(s(),a(d,null,v(20,e=>c("div",{key:e,class:"col-span-1"},[b(P)])),64))]))],64)}}}),oe=h({__name:"Category",props:{cat:{type:String,required:!0}},setup(u){const t=u,r=D(),n=g(null),e=g(""),i=()=>{var o;if(!r.cats.length)return;const l=r.cats.find(m=>m.slug===t.cat);l&&((o=l.child)!=null&&o.length?(e.value=l.name,n.value=l):(n.value=null,e.value=l.name,r.LOAD_SUBCAT(t.cat)))};return y(()=>r.cats,()=>{i()}),y(()=>t.cat,()=>{i()}),F(()=>{i()}),(l,o)=>{var m;return s(),a("div",null,[n.value&&((m=n.value.child)!=null&&m.length)?(s(),_(Z,{key:0,items:n.value.child,title:e.value},null,8,["items","title"])):(s(),_(ne,{key:1,title:e.value,items:N(r).subcat},null,8,["title","items"]))])}}});export{oe as default};
